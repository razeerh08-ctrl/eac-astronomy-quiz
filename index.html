<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>EAC Astronomy Quiz ‚Äì Ultra Cinematic</title>
<style>
body{
  margin:0;
  font-family:sans-serif;
  overflow:hidden;
  background: radial-gradient(circle at top, #0b0c1a, #0a0f2f, #04050f);
  color:white;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

/* Space Animasi */
.stars{
  position:fixed;
  width:100%;
  height:100%;
  z-index:0;
}

.star{
  position:absolute;
  background:white;
  border-radius:50%;
  opacity:0.8;
  animation-name: moveStar;
  animation-iteration-count: infinite;
  animation-timing-function: linear;
}

@keyframes moveStar{
  from{transform: translateY(0);}
  to{transform: translateY(-1200px);}
}

@keyframes twinkle{
  0%,100%{opacity:0.5;}
  50%{opacity:1;}
}

/* Card Dashboard */
.card{
  position:relative;
  background: rgba(255,255,255,0.1);
  padding:40px;
  border-radius:25px;
  backdrop-filter: blur(18px);
  width:90%;
  max-width:450px;
  text-align:center;
  z-index:1;
  box-shadow: 0 0 40px rgba(0,0,0,0.5);
}

input, select{
  width:80%;
  padding:16px;
  margin:12px 0;
  border-radius:12px;
  border:none;
  font-size:18px;
}

button{
  width:60%;
  padding:16px;
  border:none;
  border-radius:14px;
  cursor:pointer;
  background:#00bfff;
  font-size:18px;
  font-weight:bold;
  color:white;
  transition:0.3s;
  box-shadow:0 0 12px #00bfff;
}

button:hover{
  background:#009acd;
  box-shadow:0 0 25px #00ffff,0 0 35px #00bfff;
}

#quiz button{
  width:auto;
  margin:5px;
}

#leaderboard{
  margin-top:15px;
  font-size:14px;
}
</style>
</head>
<body>

<div class="stars" id="stars"></div>

<div class="card">
<h2>üåå EAC Astronomy Quiz</h2>

<div id="start">
<input id="username" placeholder="Masukkan Nama"><br>
<select id="difficulty">
  <option value="easy">Mudah</option>
  <option value="medium">Sedang</option>
  <option value="hard">Sulit</option>
</select><br>
<button onclick="startQuiz()">Mulai</button>
</div>

<div id="quiz" style="display:none;"></div>
<h3 id="score"></h3>
<div id="leaderboard"></div>

<audio id="correctSound" src="https://www.soundjay.com/buttons/sounds/button-4.mp3"></audio>
<audio id="wrongSound" src="https://www.soundjay.com/buttons/sounds/button-10.mp3"></audio>
</div>

<script>
// === Animasi Space Bintang ===
const starsContainer = document.getElementById("stars");
for(let i=0;i<150;i++){
  const star = document.createElement("div");
  star.classList.add("star");
  const size=Math.random()*3+1;
  star.style.width=size+"px";
  star.style.height=size+"px";
  star.style.left=Math.random()*100+"%";
  star.style.top=Math.random()*100+"%";
  star.style.opacity=Math.random()*0.8+0.2;
  star.style.animationDuration=(Math.random()*40+20)+"s";
  star.style.animationName=Math.random()>0.7?"twinkle":"moveStar";
  star.style.animationDuration=Math.random()>0.7?(Math.random()*2+1)+"s":star.style.animationDuration;
  starsContainer.appendChild(star);
}

// === Quiz ===
let allQuestions=[
{q:"Planet terbesar?",a:["Mars","Jupiter","Venus"],c:1,d:"easy"},
{q:"Planet terpanas?",a:["Venus","Mars","Neptunus"],c:0,d:"easy"},
{q:"Galaksi kita?",a:["Andromeda","Bimasakti","Orion"],c:1,d:"easy"},
{q:"Ledakan bintang?",a:["Supernova","Aurora","Gerhana"],c:0,d:"medium"},
{q:"Objek gravitasi ekstrem?",a:["Komet","Black Hole","Asteroid"],c:1,d:"medium"},
{q:"Planet es raksasa?",a:["Uranus","Mars","Bumi"],c:0,d:"medium"},
{q:"Bintang neutron terbentuk dari?",a:["Supernova","Planet","Komet"],c:0,d:"hard"},
{q:"Kecepatan cahaya sekitar?",a:["300.000 km/s","150.000 km/s","1 juta km/s"],c:0,d:"hard"},
{q:"Nama teleskop terkenal?",a:["Hubble","Apollo","Voyager"],c:0,d:"hard"},
{q:"Lapisan matahari paling luar?",a:["Korona","Inti","Fotosfer"],c:0,d:"hard"},
{q:"Satelit alami bumi?",a:["Bulan","Mars","Venus"],c:0,d:"easy"},
{q:"Gerhana terjadi karena?",a:["Bayangan","Ledakan","Tabrakan"],c:0,d:"easy"},
{q:"Planet merah?",a:["Mars","Venus","Jupiter"],c:0,d:"easy"},
{q:"Benda berekor?",a:["Komet","Nebula","Planet"],c:0,d:"medium"},
{q:"Alat lihat bintang?",a:["Teleskop","Mikroskop","Periskop"],c:0,d:"easy"}
];

let questions=[],current=0,score=0,name="";
let leaderboard=JSON.parse(localStorage.getItem("leaderboard"))||[];

function shuffle(array){return array.sort(()=>Math.random()-0.5);}

function startQuiz(){
  name=document.getElementById("username").value||"Anonim";
  let diff=document.getElementById("difficulty").value;
  questions=shuffle(allQuestions.filter(q=>q.d===diff));
  current=0;score=0;
  document.getElementById("start").style.display="none";
  document.getElementById("quiz").style.display="block";
  showQuestion();
}

function showQuestion(){
  if(current>=questions.length){endQuiz();return;}
  let q=questions[current];
  let quizDiv=document.getElementById("quiz");
  quizDiv.innerHTML="<p>"+(current+1)+". "+q.q+"</p>";
  shuffle(q.a).forEach(choice=>{
    let btn=document.createElement("button");
    btn.innerText=choice;
    btn.onclick=()=>{
      if(choice===q.a[q.c]){
        score++;
        document.getElementById("correctSound").play();
      }else{
        score--;
        document.getElementById("wrongSound").play();
      }
      current++;
      document.getElementById("score").innerText="Skor: "+score;
      showQuestion();
    };
    quizDiv.appendChild(btn);
  });
}

function endQuiz(){
  leaderboard.push({name,score});
  leaderboard.sort((a,b)=>b.score-a.score);
  localStorage.setItem("leaderboard",JSON.stringify(leaderboard));
  showLeaderboard();
  document.getElementById("quiz").innerHTML="<h3>Quiz Selesai!</h3>";
}

function showLeaderboard(){
  let html="<h4>üèÜ Leaderboard</h4>";
  leaderboard.slice(0,5).forEach((p,i)=>{
    html+="<p>"+(i+1)+". "+p.name+" - "+p.score+"</p>";
  });
  document.getElementById("leaderboard").innerHTML=html;
}

if(window.location.search.includes("admin=true")){
  document.body.innerHTML+="<button onclick='localStorage.clear();location.reload();' style='position:fixed;bottom:10px;right:10px;'>Reset LB</button>";
}

showLeaderboard();
</script>
</body>
  </html>
